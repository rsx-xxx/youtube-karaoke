<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <title>Karaoke Generator</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Sora:wght@300;400;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="/assets/css/styles.css" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link id="favicon" rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>üé§</text></svg>">
    <meta name="description" content="Generate karaoke videos from YouTube links or searches with audio stems.">
</head>
<body>
    <div id="gradient-background"></div>

    <button id="theme-switcher" title="Toggle theme">
        <span class="icon">‚òÄÔ∏è</span>
    </button>

    <main class="container">
        <header class="header">
            <h1>Karaoke Generator</h1>
            <p>Transform YouTube videos or searches into karaoke tracks</p>
        </header>

        <section class="input-section" aria-labelledby="input-heading">
            <div class="input-group">
                <input type="text" id="youtube-url" placeholder="Enter YouTube link or search query..." aria-label="YouTube link or search query" autocomplete="off" />
                <div id="suggestion-spinner" class="spinner" style="display: none;"></div>
                <button id="process-btn" class="cta-button">
                    <span class="button-icon" aria-hidden="true">‚ú®</span> Process
                </button>
            </div>
             <div class="preview-section">
                 <img id="video-preview" alt="Selected video thumbnail preview" style="display: none;" />
                 <div id="chosen-video-title" class="chosen-title" aria-live="polite"></div>
             </div>
        </section>

        <section class="options-group" aria-labelledby="options-heading">
             <div class="option-item checkbox-item">
                <input type="checkbox" id="generate-subtitles-checkbox" checked />
                <label for="generate-subtitles-checkbox">Add Lyrics</label>
            </div>
            <div class="option-item lyrics-option">
                <label for="language-select" class="lyrics-option-label">Language:</label>
                <select id="language-select" aria-label="Select lyrics language">
                    <option value="en">English</option>
                    <option value="ru">–†—É—Å—Å–∫–∏–π (Russian)</option>
                    <option value="ja">Êó•Êú¨Ë™û (Japanese)</option>
                    <option value="ko">ÌïúÍµ≠Ïñ¥ (Korean)</option>
                    <option value="zh">‰∏≠Êñá (Chinese)</option>
                    <option value="fr">Fran√ßais (French)</option>
                    <option value="de">Deutsch (German)</option>
                    <option value="es">Espa√±ol (Spanish)</option>
                    <option value="it">Italiano (Italian)</option>
                    <option value="pt">Portugu√™s (Portuguese)</option>
                    </select>
            </div>
            <div class="option-item lyrics-option">
                <label for="subtitle-position-select" class="lyrics-option-label">Position:</label>
                <select id="subtitle-position-select" aria-label="Select lyrics position">
                    <option value="bottom" selected>Bottom</option>
                    <option value="top">Top</option>
                </select>
            </div>
        </section>

        <section id="progress-display" style="display: none;" aria-live="polite" aria-atomic="true">
            <div id="progress-text-container">
                <div id="progress-text" role="status">0% - Initializing...</div>
                <div id="progress-timing" class="progress-details">Elapsed: 0s</div> </div>
            <div id="progress-bar-container" role="progressbar" aria-valuenow="0" aria-valuemin="0" aria-valuemax="100" aria-labelledby="progress-text">
                <div id="progress-bar" style="width: 0%;"></div>
            </div>
             <div id="progress-steps-container" aria-label="Processing steps log">
                 </div>
        </section>

        <div id="status-message" role="alert"></div>

        <section class="results-area" style="display: none;">

             <div class="video-container">
                 <h2>Karaoke Video</h2>
                 <video id="karaoke-video" controls controlsList="nodownload" title="Generated Karaoke Video"></video>
                 <div class="video-actions">
                    <a id="download-btn" href="#" download="karaoke_video.mp4" class="action-button primary" style="display: none;">
                        <span class="button-icon" aria-hidden="true">üíæ</span> Download
                    </a>
                    <button id="share-btn" class="action-button" style="display: none;">
                        <span class="button-icon" aria-hidden="true">üîó</span> Copy Link
                    </button>
                </div>
            </div>

            <div id="stems-section" style="display: none;">
                 <h2>Audio Stems</h2>
                 <div id="global-stem-controls">
                    <button id="play-all-stems" class="action-button stem-global-btn">
                        <span class="button-icon" aria-hidden="true">‚ñ∂Ô∏è</span> Play All
                    </button>
                    <button id="pause-all-stems" class="action-button stem-global-btn">
                         <span class="button-icon" aria-hidden="true">‚è∏Ô∏è</span> Pause All
                    </button>
                    <button id="stop-all-stems" class="action-button stem-global-btn">
                         <span class="button-icon" aria-hidden="true">‚èπÔ∏è</span> Stop All
                    </button>
                    <button id="reset-all-stems" class="action-button stem-global-btn">
                        <span class="button-icon" aria-hidden="true">‚è™</span> Reset All
                   </button>
                </div>
                <div id="stems-container" aria-label="Individual audio stem players">
                    </div>
            </div>
        </section>

    </main>

    <script src="https://unpkg.com/wavesurfer.js@7"></script>
    <script src="/assets/js/main.js" defer></script>
</body>
</html>